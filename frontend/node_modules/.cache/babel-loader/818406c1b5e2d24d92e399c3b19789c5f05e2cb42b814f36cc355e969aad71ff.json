{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"ParametersChess\",\n  data() {\n    return {\n      userEmail: localStorage.getItem('userEmail'),\n      userPseudo: localStorage.getItem('userPseudo'),\n      userNom: localStorage.getItem('userNom'),\n      userPrenom: localStorage.getItem('userPrenom'),\n      newPassword: \"\"\n    };\n  },\n  methods: {\n    async changePassword() {\n      try {\n        const response = await axios.post('http://localhost:8000/change_password/', {\n          email: this.userEmail,\n          newPassword: this.newPassword\n        });\n        alert(response.data.message);\n      } catch (error) {\n        console.error(\"Erreur lors du changement de mot de passe :\", error.response ? error.response.data : error.message);\n        alert(\"Erreur lors du changement de mot de passe. Veuillez réessayer.\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","userEmail","localStorage","getItem","userPseudo","userNom","userPrenom","newPassword","methods","changePassword","response","post","email","alert","message","error","console"],"sources":["C:\\wamp64\\www\\Chess\\frontend\\src\\components\\ParametresChess.vue"],"sourcesContent":["<template>\r\n    <div class=\"parameters-container\">\r\n      <aside class=\"sidebar\">\r\n      <nav>\r\n        <ul>\r\n          <li><router-link to=\"/menu\">Accueil</router-link></li>\r\n          <li><router-link to=\"/parametres\">Paramètres</router-link></li>\r\n          <li><a href=\"#\" @click.prevent=\"logout\">Déconnexion</a></li>\r\n        </ul>\r\n      </nav>\r\n    </aside>\r\n    <h2>Paramètres</h2>\r\n      <div class=\"user-info\">\r\n        <p><strong>Email :</strong> {{ userEmail }}</p>\r\n        <p><strong>Pseudo :</strong> {{ userPseudo }}</p>\r\n        <p><strong>Nom :</strong> {{ userNom }}</p>\r\n        <p><strong>Prénom :</strong> {{ userPrenom }}</p>\r\n      </div>\r\n      <div class=\"change-password\">\r\n        <h3>Changer le mot de passe</h3>\r\n        <form @submit.prevent=\"changePassword\">\r\n          <div class=\"form-group\">\r\n            <label for=\"newPassword\">Nouveau mot de passe :</label>\r\n            <input type=\"password\" id=\"newPassword\" v-model=\"newPassword\" required />\r\n          </div>\r\n          <button type=\"submit\">Changer le mot de passe</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    name: \"ParametersChess\",\r\n    data() {\r\n      return {\r\n        userEmail: localStorage.getItem('userEmail'),\r\n        userPseudo: localStorage.getItem('userPseudo'),\r\n        userNom: localStorage.getItem('userNom'),\r\n        userPrenom: localStorage.getItem('userPrenom'),\r\n        newPassword: \"\",\r\n      };\r\n    },\r\n    methods: {\r\n      async changePassword() {\r\n        try {\r\n          const response = await axios.post('http://localhost:8000/change_password/', {\r\n            email: this.userEmail,\r\n            newPassword: this.newPassword,\r\n          });\r\n          alert(response.data.message);\r\n        } catch (error) {\r\n          console.error(\"Erreur lors du changement de mot de passe :\", error.response ? error.response.data : error.message);\r\n          alert(\"Erreur lors du changement de mot de passe. Veuillez réessayer.\");\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .parameters-container {\r\n    padding: 20px;\r\n    max-width: 600px;\r\n    margin: auto;\r\n  }\r\n  \r\n  .user-info {\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .form-group {\r\n    margin-bottom: 15px;\r\n  }\r\n  \r\n  label {\r\n    margin-bottom: 5px;\r\n    display: block;\r\n  }\r\n  \r\n  input {\r\n    width: 100%;\r\n    padding: 8px;\r\n    box-sizing: border-box;\r\n  }\r\n  \r\n  button {\r\n    padding: 10px 15px;\r\n    background-color: #00ff00;\r\n    color: #121212;\r\n    border: none;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  button:hover {\r\n    background-color: #00cc00;\r\n  }\r\n  </style>\r\n  "],"mappings":"AAgCE,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAEC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;MAC5CC,UAAU,EAAEF,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;MAC9CE,OAAO,EAAEH,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;MACxCG,UAAU,EAAEJ,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;MAC9CI,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMZ,KAAK,CAACa,IAAI,CAAC,wCAAwC,EAAE;UAC1EC,KAAK,EAAE,IAAI,CAACX,SAAS;UACrBM,WAAW,EAAE,IAAI,CAACA;QACpB,CAAC,CAAC;QACFM,KAAK,CAACH,QAAQ,CAACV,IAAI,CAACc,OAAO,CAAC;MAC9B,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6CAA6C,EAAEA,KAAK,CAACL,QAAO,GAAIK,KAAK,CAACL,QAAQ,CAACV,IAAG,GAAIe,KAAK,CAACD,OAAO,CAAC;QAClHD,KAAK,CAAC,gEAAgE,CAAC;MACzE;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}