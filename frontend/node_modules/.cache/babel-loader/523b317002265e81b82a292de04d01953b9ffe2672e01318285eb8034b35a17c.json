{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: \"ParametersChess\",\n  data() {\n    return {\n      userEmail: localStorage.getItem('userEmail'),\n      userPseudo: localStorage.getItem('userPseudo'),\n      userNom: localStorage.getItem('userNom'),\n      userPrenom: localStorage.getItem('userPrenom'),\n      newPassword: \"\"\n    };\n  },\n  methods: {\n    async changePassword() {\n      try {\n        const response = await axios.post('http://localhost:8000/change_password/', {\n          email: this.userEmail,\n          newPassword: this.newPassword\n        });\n        alert(response.data.message);\n      } catch (error) {\n        console.error(\"Erreur lors du changement de mot de passe :\", error.response ? error.response.data : error.message);\n        alert(\"Erreur lors du changement de mot de passe. Veuillez réessayer.\");\n      }\n    },\n    async logout() {\n      try {\n        await axios.post('http://localhost:8000/logout/');\n        localStorage.removeItem('userPseudo');\n        localStorage.removeItem('userEmail');\n        localStorage.removeItem('userNom');\n        localStorage.removeItem('userPrenom');\n        this.$router.push('/login');\n      } catch (error) {\n        console.error(\"Erreur lors de la déconnexion :\", error.response ? error.response.data : error.message);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","userEmail","localStorage","getItem","userPseudo","userNom","userPrenom","newPassword","methods","changePassword","response","post","email","alert","message","error","console","logout","removeItem","$router","push"],"sources":["C:\\wamp64\\www\\Chess\\frontend\\src\\components\\ParametresChess.vue"],"sourcesContent":["<template>\n    <div class=\"menu-container\">\n      <aside class=\"sidebar\">\n        <nav>\n          <ul>\n            <li><router-link to=\"/menu\">Accueil</router-link></li>\n            <li><router-link to=\"/parametres\">Paramètres</router-link></li>\n            <li><a href=\"#\" @click.prevent=\"logout\">Déconnexion</a></li>\n          </ul>\n        </nav>\n      </aside>\n    </div>\n    <div class=\"parameters-container\">\n      <h2>Paramètres</h2>\n      <div class=\"user-info\">\n        <p><strong>Email :</strong> {{ userEmail }}</p>\n        <p><strong>Pseudo :</strong> {{ userPseudo }}</p>\n        <p><strong>Nom :</strong> {{ userNom }}</p>\n        <p><strong>Prénom :</strong> {{ userPrenom }}</p>\n      </div>\n      <div class=\"change-password\">\n        <h3>Changer le mot de passe</h3>\n        <form @submit.prevent=\"changePassword\">\n          <div class=\"form-group\">\n            <label for=\"newPassword\">Nouveau mot de passe :</label>\n            <input type=\"password\" id=\"newPassword\" v-model=\"newPassword\" required />\n          </div>\n          <button type=\"submit\">Changer le mot de passe</button>\n        </form>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    name: \"ParametersChess\",\n    data() {\n      return {\n        userEmail: localStorage.getItem('userEmail'),\n        userPseudo: localStorage.getItem('userPseudo'),\n        userNom: localStorage.getItem('userNom'),\n        userPrenom: localStorage.getItem('userPrenom'),\n        newPassword: \"\",\n      };\n    },\n    methods: {\n      async changePassword() {\n        try {\n          const response = await axios.post('http://localhost:8000/change_password/', {\n            email: this.userEmail,\n            newPassword: this.newPassword,\n          });\n          alert(response.data.message);\n        } catch (error) {\n          console.error(\"Erreur lors du changement de mot de passe :\", error.response ? error.response.data : error.message);\n          alert(\"Erreur lors du changement de mot de passe. Veuillez réessayer.\");\n        }\n      },\n      async logout() {\n        try {\n          await axios.post('http://localhost:8000/logout/');\n          localStorage.removeItem('userPseudo');\n          localStorage.removeItem('userEmail');\n          localStorage.removeItem('userNom');\n          localStorage.removeItem('userPrenom');\n          this.$router.push('/login');\n        } catch (error) {\n          console.error(\"Erreur lors de la déconnexion :\", error.response ? error.response.data : error.message);\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .parameters-container {\n    padding: 20px;\n    max-width: 600px;\n    margin: auto;\n    flex-grow: 1;\n    text-align: center;\n  }\n  .menu-container {\n    display: flex;\n  }\n  .sidebar {\n    width: 200px;\n    background-color: #1f1f1f;\n    padding: 20px;\n    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5);\n  }\n  \n  .sidebar nav ul {\n    list-style-type: none;\n    padding: 0;\n  }\n  \n  .sidebar nav ul li {\n    margin: 15px 0;\n  }\n  \n  .sidebar nav ul li a {\n    color: #e0e0e0;\n    text-decoration: none;\n  }\n  \n  .sidebar nav ul li a:hover {\n    text-decoration: underline;\n  }\n  \n  .user-info {\n    margin-bottom: 20px;\n  }\n  \n  .form-group {\n    margin-bottom: 15px;\n  }\n  \n  label {\n    margin-bottom: 5px;\n    display: block;\n  }\n  \n  input {\n    width: 100%;\n    padding: 8px;\n    box-sizing: border-box;\n  }\n  \n  button {\n    padding: 10px 15px;\n    background-color: #00ff00;\n    color: #121212;\n    border: none;\n    cursor: pointer;\n  }\n  \n  button:hover {\n    background-color: #00cc00;\n  }\n  </style>\n  "],"mappings":";AAkCE,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAEC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;MAC5CC,UAAU,EAAEF,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;MAC9CE,OAAO,EAAEH,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;MACxCG,UAAU,EAAEJ,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;MAC9CI,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMZ,KAAK,CAACa,IAAI,CAAC,wCAAwC,EAAE;UAC1EC,KAAK,EAAE,IAAI,CAACX,SAAS;UACrBM,WAAW,EAAE,IAAI,CAACA;QACpB,CAAC,CAAC;QACFM,KAAK,CAACH,QAAQ,CAACV,IAAI,CAACc,OAAO,CAAC;MAC9B,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6CAA6C,EAAEA,KAAK,CAACL,QAAO,GAAIK,KAAK,CAACL,QAAQ,CAACV,IAAG,GAAIe,KAAK,CAACD,OAAO,CAAC;QAClHD,KAAK,CAAC,gEAAgE,CAAC;MACzE;IACF,CAAC;IACD,MAAMI,MAAMA,CAAA,EAAG;MACb,IAAI;QACF,MAAMnB,KAAK,CAACa,IAAI,CAAC,+BAA+B,CAAC;QACjDT,YAAY,CAACgB,UAAU,CAAC,YAAY,CAAC;QACrChB,YAAY,CAACgB,UAAU,CAAC,WAAW,CAAC;QACpChB,YAAY,CAACgB,UAAU,CAAC,SAAS,CAAC;QAClChB,YAAY,CAACgB,UAAU,CAAC,YAAY,CAAC;QACrC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;MAC7B,EAAE,OAAOL,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAACL,QAAO,GAAIK,KAAK,CAACL,QAAQ,CAACV,IAAG,GAAIe,KAAK,CAACD,OAAO,CAAC;MACxG;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}